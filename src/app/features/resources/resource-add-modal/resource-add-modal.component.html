<app-modal
  [open]="open"
  [ariaLabel]="title()"
  (closed)="close()"
>
  <div class="flex flex-col">
    <h2 class="font-bold text-center text-2xl leading-8 text-sw-dark-blue dark:text-gray-100">
      {{ title() }}
    </h2>

    <div class="mt-8">
      <app-dynamic-form [fields]="fields()" (valueChange)="onValueChange($event)"></app-dynamic-form>
    </div>

    <div class="mt-12 flex justify-end gap-x-5">
      <button
        type="button"
        class="bg-sw-platinum dark:bg-gray-700 rounded-sm dark:rounded-lg font-medium text-sm leading-tight tracking-normal text-sw-navy-blue dark:text-gray-100 px-10 py-5 hover:text-sw-yellow dark:hover:text-sw-yellow focus:outline-none focus:ring-2 focus:ring-sw-dark-blue dark:focus:ring-sw-yellow disabled:opacity-60"
        (click)="close()"
        [disabled]="isSaving"
      >
        Abbrechen
      </button>

      <button
        type="button"
        class="bg-sw-dark-blue dark:bg-sw-brandy rounded-sm dark:rounded-lg font-medium text-sm leading-tight tracking-normal text-white px-10 py-5 hover:text-sw-yellow dark:hover:text-sw-yellow focus:outline-none focus:ring-2 focus:ring-sw-dark-blue dark:focus:ring-sw-yellow disabled:opacity-60 disabled:cursor-not-allowed"
        (click)="submit()"
        [disabled]="isSaving"
      >
        <span *ngIf="!isSaving">Speichern</span>
        <span *ngIf="isSaving" class="inline-flex items-center gap-3">
          <span class="inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-sw-yellow"></span>
          <span>Speichern...</span>
        </span>
      </button>
    </div>
  </div>
</app-modal>
